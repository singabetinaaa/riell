/* ===== FLOWER SCENE CSS - COMPLETE WITH ANIMATIONS ===== */

/* Overlay hitam untuk transisi */
.flower-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: #000;
  z-index: 9998;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease-in-out;
}

.flower-overlay.active {
  opacity: 1;
  pointer-events: all;
}

/* Scene bunga dengan animasi tumbuh */
.flower-scene {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: radial-gradient(ellipse at bottom, #0a1628 0%, #050510 100%);
  z-index: 9999;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.8s ease-in-out;
  overflow: hidden;
}

.flower-scene.active {
  opacity: 1;
  visibility: visible;
}

/* Garden Container */
.garden {
  position: relative;
  width: 100%;
  max-width: 800px;
  height: 500px;
  margin-bottom: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
}

/* ===== BUNGA UTAMA ===== */
.main-flower {
  position: absolute;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  width: 250px;
  height: 550px;
  z-index: 5;
}

/* Batang/Stem */
.stem {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 10px;
  height: 320px;
  background: linear-gradient(to right, #185f3a 0%, #2a8f5d 50%, #185f3a 100%);
  border-radius: 5px;
  box-shadow:
    inset -3px 0 8px rgba(10, 40, 25, 0.8),
    inset 3px 0 6px rgba(80, 180, 120, 0.4),
    0 0 15px rgba(40, 120, 70, 0.3);
  z-index: 2;
}

/* Daun - Nempel di Batang */
.leaf {
  position: absolute;
  left: 50%;
  margin-left: -5px;
  width: 45px;
  height: 26px;
  background: radial-gradient(
    ellipse at 25% 30%,
    rgba(140, 255, 180, 1) 0%,
    rgba(90, 210, 140, 1) 40%,
    rgba(50, 150, 90, 0.98) 100%
  );
  border-radius: 0% 55% 55% 50%;
  opacity: 0;
  transform-origin: 0% 50%;
  box-shadow:
    0 4px 12px rgba(50, 150, 90, 0.4),
    inset -3px -4px 10px rgba(30, 110, 65, 0.7),
    inset 3px 3px 8px rgba(160, 255, 200, 0.6);
  z-index: 3;
}

/* Vein line pada daun */
.leaf::before {
  content: "";
  position: absolute;
  width: 2px;
  height: 88%;
  background: linear-gradient(
    to right,
    rgba(160, 255, 200, 0.8) 0%,
    rgba(50, 150, 90, 0.5) 100%
  );
  top: 6%;
  left: 8%;
  border-radius: 50%;
  box-shadow: 0 0 4px rgba(160, 255, 200, 0.5);
}

/* Daun Kiri */
.leaf-left {
  transform: translateX(-10px) rotate(-110deg) scale(0);
}

/* Daun Kanan */
.leaf-right {
  left: auto;
  right: 50%;
  margin-right: -5px;
  margin-left: 0;
  transform: translateX(10px) rotate(110deg) scaleX(-1) scale(0);
}

/* Trigger animasi daun saat active - SETELAH BUNGA MEKAR */
.flower-scene.active .leaf {
  animation: growLeafAttached 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.flower-scene.active .leaf-left:nth-of-type(2) {
  animation-delay: 5.5s;
}

.flower-scene.active .leaf-right:nth-of-type(3) {
  animation-delay: 5.8s;
}

.flower-scene.active .leaf-left:nth-of-type(4) {
  animation-delay: 6.1s;
}

@keyframes growLeafAttached {
  0% {
    opacity: 0;
    transform: rotate(-110deg) scale(0);
  }
  70% {
    opacity: 1;
    transform: rotate(-110deg) scale(1.12);
  }
  100% {
    opacity: 1;
    transform: rotate(-110deg) scale(1);
  }
}

/* ===== KEPALA BUNGA ===== */
.flower-head {
  position: absolute;
  bottom: 320px;
  left: 50%;
  transform: translateX(-50%) scale(1);
  width: 170px;
  height: 170px;
  opacity: 1;
  z-index: 4;
}

/* Kelopak Bunga (8 petals) */
.petal {
  position: absolute;
  width: 52px;
  height: 68px;
  background: radial-gradient(
    ellipse at 38% 28%,
    rgba(200, 235, 255, 1) 0%,
    rgba(140, 205, 250, 1) 28%,
    rgba(90, 170, 240, 1) 58%,
    rgba(50, 130, 210, 0.99) 100%
  );
  border-radius: 58% 42% 62% 38% / 72% 28% 72% 28%;
  top: 50%;
  left: 50%;
  transform-origin: center;
  box-shadow:
    0 6px 20px rgba(50, 130, 210, 0.5),
    inset -4px -6px 14px rgba(35, 100, 170, 0.7),
    inset 4px 4px 12px rgba(200, 235, 255, 0.6);
  opacity: 1;
  transform: translate(-50%, -50%) rotate(calc(var(--i) * 45deg))
    translateY(-58px) scale(1);
}

.petal::before {
  content: "";
  position: absolute;
  width: 2.5px;
  height: 72%;
  background: linear-gradient(
    to bottom,
    rgba(200, 235, 255, 0.75) 0%,
    rgba(50, 130, 210, 0.45) 100%
  );
  top: 14%;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 50%;
  box-shadow: 0 0 3px rgba(200, 235, 255, 0.5);
}

/* Center Bunga */
.flower-center {
  position: absolute;
  width: 46px;
  height: 46px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1);
  background: radial-gradient(
    ellipse at 33% 28%,
    rgba(255, 255, 245, 1) 0%,
    rgba(255, 230, 140, 1) 32%,
    rgba(255, 190, 90, 1) 68%,
    rgba(240, 150, 50, 1) 100%
  );
  box-shadow:
    0 7px 22px rgba(240, 150, 50, 0.6),
    inset -4px -5px 14px rgba(210, 110, 35, 0.7),
    inset 4px 4px 12px rgba(255, 255, 245, 0.8),
    0 0 30px rgba(255, 190, 90, 0.4);
  z-index: 10;
}

.center-inner {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(
    circle at 38% 32%,
    rgba(255, 240, 195, 1) 0%,
    rgba(230, 160, 75, 1) 100%
  );
  box-shadow:
    inset -2px -3px 8px rgba(190, 115, 45, 0.8),
    inset 1px 1px 4px rgba(255, 240, 195, 0.7);
}

/* ===== SERBUK SARI ===== */
.pollen-container {
  position: absolute;
  width: 220%;
  height: 220%;
  top: -60%;
  left: -60%;
  pointer-events: none;
}

.pollen {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 220, 1) 0%,
    rgba(255, 235, 120, 1) 100%
  );
  top: 50%;
  left: 50%;
  box-shadow:
    0 0 14px rgba(255, 235, 120, 1),
    0 0 28px rgba(255, 235, 120, 0.6);
  opacity: 1;
  animation: pollenFloat 3.5s ease-in-out infinite;
  animation-delay: var(--delay, 0s);
}

@keyframes pollenFloat {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) translate(0, 0) scale(0);
  }
  18% {
    opacity: 1;
    transform: translate(-50%, -50%)
      translate(calc(var(--x) * 0.28), calc(var(--y) * 0.28)) scale(1);
  }
  82% {
    opacity: 1;
    transform: translate(-50%, -50%) translate(var(--x), var(--y)) scale(1.35);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%)
      translate(calc(var(--x) * 1.25), calc(var(--y) * 1.25)) scale(1.6);
  }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .garden {
    max-width: 95%;
    height: 420px;
  }

  .main-flower {
    width: 210px;
    height: 480px;
    bottom: 90px;
  }

  .stem {
    width: 8px;
    height: 270px;
  }

  .flower-head {
    bottom: 270px;
    width: 140px;
    height: 140px;
  }

  .petal {
    width: 44px;
    height: 56px;
  }

  .flower-center {
    width: 38px;
    height: 38px;
  }

  .center-inner {
    width: 28px;
    height: 28px;
  }

  .pollen {
    width: 5px;
    height: 5px;
  }

  .feeling-form {
    width: 90%;
    padding: 30px 25px;
  }

  .feeling-form h2 {
    font-size: 22px;
  }

  .feeling-form textarea {
    font-size: 14px;
    padding: 14px;
  }

  .btn-send {
    padding: 12px 35px;
    font-size: 15px;
  }
}

@media (max-width: 480px) {
  .garden {
    height: 360px;
  }

  .main-flower {
    width: 180px;
    height: 400px;
    bottom: 80px;
  }

  .stem {
    width: 7px;
    height: 220px;
  }

  .flower-head {
    bottom: 220px;
    width: 120px;
    height: 120px;
  }

  .petal {
    width: 38px;
    height: 48px;
  }

  .flower-center {
    width: 34px;
    height: 34px;
  }

  .center-inner {
    width: 24px;
    height: 24px;
  }

  .pollen {
    width: 4px;
    height: 4px;
  }

  .feeling-form {
    width: 85%;
    padding: 25px 20px;
  }

  .feeling-form h2 {
    font-size: 20px;
  }

  .feeling-form textarea {
    font-size: 13px;
    padding: 12px;
  }

  .btn-send {
    padding: 10px 30px;
    font-size: 14px;
  }
}

/* ===== FORM PERASAAN ===== */
.feeling-form {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 500px;
  background: rgba(255, 255, 255, 0.95);
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  opacity: 1;
  pointer-events: all;
  z-index: 25;
}

.flower-scene.active .feeling-form {
  opacity: 1;
  pointer-events: all;
}

.feeling-form h2 {
  margin: 0 0 20px 0;
  font-size: 24px;
  text-align: center;
  background: linear-gradient(135deg, #5f9cff 0%, #ff6b9d 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.feeling-form textarea {
  width: 100%;
  padding: 15px;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  font-size: 16px;
  font-family: inherit;
  resize: vertical;
  transition: border-color 0.3s;
}

.feeling-form textarea:focus {
  outline: none;
  border-color: #5f9cff;
}

.btn-send {
  width: 100%;
  margin-top: 15px;
  padding: 15px;
  font-size: 18px;
  font-weight: 600;
  background: linear-gradient(135deg, #25d366 0%, #128c7e 100%);
  color: white;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 0 5px 20px rgba(37, 211, 102, 0.3);
}

.btn-send:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(37, 211, 102, 0.5);
}
